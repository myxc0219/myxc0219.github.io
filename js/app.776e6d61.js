(function(e){function t(t){for(var s,o,r=t[0],l=t[1],u=t[2],c=0,d=[];c<r.length;c++)o=r[c],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);_&&_(t);while(d.length)d.shift()();return n.push.apply(n,u||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,o=1;o<i.length;o++){var l=i[o];0!==a[l]&&(s=!1)}s&&(n.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},a={app:0},n=[];function o(e){return r.p+"js/"+({about:"about"}[e]||e)+"."+{about:"dacc103d"}[e]+".js"}function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i=a[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,s){i=a[e]=[t,s]}));t.push(i[2]=s);var n,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(e);var u=new Error;n=function(t){l.onerror=l.onload=null,clearTimeout(c);var i=a[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+n+")",u.name="ChunkLoadError",u.type=s,u.request=n,i[1](u)}a[e]=void 0}};var c=setTimeout((function(){n({type:"timeout",target:l})}),12e4);l.onerror=l.onload=n,document.head.appendChild(l)}return Promise.all(t)},r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var _=u;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"034f":function(e,t,i){"use strict";var s=i("296e"),a=i.n(s);a.a},"1f57":function(e,t,i){"use strict";var s=i("8f11"),a=i.n(s);a.a},"1f97":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{style:e.display_style,attrs:{question:e.number,disabled:e.question_disabled}},[1==e.isrequired?i("span",{staticClass:"req"},[e._v("*")]):e._e(),158!=e.number?i("label",{staticClass:"topicnumber"},[i("b",[e._v(e._s(e.showindex)+".")])]):e._e(),"user_info"!=e.type?i("label",{staticClass:"topictext"},[i("b",[e._v(e._s(e.text))])]):e._e(),""!=e.picture&&null!=e.picture?i("div",{staticClass:"imgBoxWide"},[i("img",{attrs:{src:e.picture,alt:"Image"}})]):e._e(),i("div",{staticClass:"tm-q-choice-container"},e._l(e.activeOptions,(function(t){return i("Option",{key:100*t.question_id+t.number,attrs:{number:t.number,text:t.text,rangehead:t.rangehead,rangetail:t.rangetail,type:t.type,unit:t.unit,picture:t.picture,question_id:t.question_id,showrelations:e.showrelations},on:{changeVisible:e.changeVisible,changeOptionValue:e.changeOptionValue,chkOptionValue:e.chkOptionValue,changeUserInfoValue:e.changeUserInfoValue}})})),1),"user_info"==e.type?i("label",{staticClass:"topictext beautytext"},[i("p",{domProps:{innerHTML:e._s(e.text)}})]):e._e()])},a=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return"bool"==e.type?i("label",{staticClass:"tm-q-choice"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"with-gap",attrs:{type:"radio",name:"q"+e.question_id},domProps:{value:"q"+e.question_id+"_a"+e.number,checked:e._q(e.option_value.value,"q"+e.question_id+"_a"+e.number)},on:{change:[function(t){return e.$set(e.option_value,"value","q"+e.question_id+"_a"+e.number)},e.radioChange]}}),i("span",[e._v(e._s(e.text))])]):"chk_select"==e.type?i("label",{staticClass:"tm-q-choice",staticStyle:{width:"-webkit-fill-available"}},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"tm-radio-group-1 with-gap",attrs:{name:"q"+e.question_id,type:"radio"},domProps:{value:"q"+e.question_id+"_a"+e.number,checked:e._q(e.option_value.value,"q"+e.question_id+"_a"+e.number)},on:{change:[function(t){return e.$set(e.option_value,"value","q"+e.question_id+"_a"+e.number)},e.chkChange]}}),i("span",[e._v(e._s(e.text))])])]):"picture_select"==e.type?i("label",{staticClass:"tm-q3-choice tm-q-choice-2-col"},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"tm-radio-group-1 with-gap",attrs:{name:"q"+e.question_id,type:"radio"},domProps:{value:"q"+e.question_id+"_a"+e.number,checked:e._q(e.option_value.value,"q"+e.question_id+"_a"+e.number)},on:{change:[function(t){return e.$set(e.option_value,"value","q"+e.question_id+"_a"+e.number)},e.radioChange]}}),i("span",[e._v(e._s(e.text))])]),i("div",{staticClass:"imgBox"},[i("img",{attrs:{src:e.picture,alt:"Image"}})])]):"picture_multi_select"==e.type?i("label",{staticClass:"tm-q3-choice tm-q-choice-2-col"},[i("div",{staticStyle:{"word-break":"break-all","max-width":"170px"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"filled-in tm-checkbox",attrs:{type:"checkbox",name:"q"+e.question_id},domProps:{checked:Array.isArray(e.option_value.value)?e._i(e.option_value.value,null)>-1:e.option_value.value},on:{change:[function(t){var i=e.option_value.value,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);s.checked?o<0&&e.$set(e.option_value,"value",i.concat([n])):o>-1&&e.$set(e.option_value,"value",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.option_value,"value",a)},e.checkboxChange]}}),i("span",[e._v(e._s(e.text))])]),i("div",{staticClass:"imgBox"},[i("img",{attrs:{src:e.picture,alt:"Image"}})])]):"text_select"==e.type?i("label",{staticClass:"tm-q-choice",staticStyle:{width:"-webkit-fill-available"}},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"tm-radio-group-1 with-gap",attrs:{name:"q"+e.question_id,type:"radio"},domProps:{value:"q"+e.question_id+"_a"+e.number,checked:e._q(e.option_value.value,"q"+e.question_id+"_a"+e.number)},on:{change:[function(t){return e.$set(e.option_value,"value","q"+e.question_id+"_a"+e.number)},e.radioChange]}}),i("span",[e._v(e._s(e.text))])])]):"text_multi_select"==e.type?i("label",{staticClass:"tm-q-choice",staticStyle:{width:"-webkit-fill-available"}},[i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"filled-in tm-checkbox",attrs:{type:"checkbox",id:"q"+e.question_id+"_check"+e.number,name:"q"+e.question_id},domProps:{checked:Array.isArray(e.option_value.value)?e._i(e.option_value.value,null)>-1:e.option_value.value},on:{change:[function(t){var i=e.option_value.value,s=t.target,a=!!s.checked;if(Array.isArray(i)){var n=null,o=e._i(i,n);s.checked?o<0&&e.$set(e.option_value,"value",i.concat([n])):o>-1&&e.$set(e.option_value,"value",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.option_value,"value",a)},e.checkboxChange]}}),i("span",[e._v(e._s(e.text))])])]):"text_edit"==e.type?i("label",{staticStyle:{width:"-webkit-fill-available"}},[i("div",{staticStyle:{"margin-top":"8px"}},[i("span",[e._v(e._s(e.text))])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"textinput-conctrol",attrs:{type:"text",name:"q"+e.question_id},domProps:{value:e.option_value.value},on:{input:function(t){t.target.composing||e.$set(e.option_value,"value",t.target.value)}}})]):"textarea_edit"==e.type?i("label",{staticStyle:{width:"-webkit-fill-available"}},[i("div",{staticStyle:{"margin-top":"8px"}},[i("span",[e._v(e._s(e.text))])]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"form-control browser-default",attrs:{rows:"3",name:"q"+e.question_id},domProps:{value:e.option_value.value},on:{input:function(t){t.target.composing||e.$set(e.option_value,"value",t.target.value)}}})]):"range_value"==e.type?i("div",{staticStyle:{width:"-webkit-fill-available"}},[i("div",{staticClass:"form-group"},[i("label",{staticClass:"topictext",style:"margin-left:10px;margin-right:20px;"},[e._v(e._s(e.text))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.option_value.value,expression:"option_value.value"}],staticClass:"textinput-conctrol",attrs:{type:"number",id:"rangeValue"+e.question_id,name:"q"+e.question_id,"aria-describedby":"nameHelp"},domProps:{value:e.option_value.value},on:{input:function(t){t.target.composing||e.$set(e.option_value,"value",t.target.value)}}}),i("label",{staticClass:"topictext",style:"margin-left:10px;"},[e._v(e._s(e.unit))])])]):"picture_upload"==e.type?i("div",[i("uploader",{ref:"Uploader",staticClass:"uploader-example",attrs:{options:e.upload_options},on:{"file-success":e.onFileSuccess}},[i("uploader-unsupport"),i("uploader-drop",[i("uploader-btn",{attrs:{attrs:e.upload_attrs}},[e._v("选择图片")])],1),i("uploader-list")],1)],1):"user_info"==e.type?i("div",{staticStyle:{width:"-webkit-fill-available"}},[i("label",{attrs:{for:"user_info_name"}},[e._v("姓名：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.name,expression:"user_info_value.name"}],staticClass:"textinput-conctrol",attrs:{id:"user_info_name",type:"text"},domProps:{value:e.user_info_value.name},on:{input:function(t){t.target.composing||e.$set(e.user_info_value,"name",t.target.value)}}}),i("div",{staticStyle:{"margin-top":"8px"}}),i("label",{staticClass:"userinfo_text",attrs:{for:"user_info_age"}},[e._v("年龄：")]),i("table",{staticClass:"xtable"},[i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.age,expression:"user_info_value.age"}],staticClass:"table-choice",attrs:{type:"radio",id:"one",value:"20"},domProps:{checked:e._q(e.user_info_value.age,"20")},on:{change:function(t){return e.$set(e.user_info_value,"age","20")}}}),i("label",{attrs:{for:"one"}},[e._v("18-29")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.age,expression:"user_info_value.age"}],staticClass:"table-choice",attrs:{type:"radio",id:"two",value:"30"},domProps:{checked:e._q(e.user_info_value.age,"30")},on:{change:function(t){return e.$set(e.user_info_value,"age","30")}}}),i("label",{attrs:{for:"two"}},[e._v("30-39")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.age,expression:"user_info_value.age"}],staticClass:"table-choice",attrs:{type:"radio",id:"three",value:"40"},domProps:{checked:e._q(e.user_info_value.age,"40")},on:{change:function(t){return e.$set(e.user_info_value,"age","40")}}}),i("label",{attrs:{for:"three"}},[e._v("40-49")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.age,expression:"user_info_value.age"}],staticClass:"table-choice",attrs:{type:"radio",id:"four",value:"50"},domProps:{checked:e._q(e.user_info_value.age,"50")},on:{change:function(t){return e.$set(e.user_info_value,"age","50")}}}),i("label",{attrs:{for:"four"}},[e._v("50-59")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.age,expression:"user_info_value.age"}],staticClass:"table-choice",attrs:{type:"radio",id:"five",value:"60"},domProps:{checked:e._q(e.user_info_value.age,"60")},on:{change:function(t){return e.$set(e.user_info_value,"age","60")}}}),i("label",{attrs:{for:"five"}},[e._v("60-70")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.age,expression:"user_info_value.age"}],staticClass:"table-choice",attrs:{type:"radio",id:"six",value:"70"},domProps:{checked:e._q(e.user_info_value.age,"70")},on:{change:function(t){return e.$set(e.user_info_value,"age","70")}}}),i("label",{attrs:{for:"six"}},[e._v("71-100")])])])]),i("label",{staticClass:"userinfo_text",attrs:{for:"user_info_gender"}},[e._v("性别：")]),i("table",{staticClass:"xtable"},[i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.gender,expression:"user_info_value.gender"}],staticClass:"table-choice",attrs:{type:"radio",id:"gender_one",value:"1"},domProps:{checked:e._q(e.user_info_value.gender,"1")},on:{change:function(t){return e.$set(e.user_info_value,"gender","1")}}}),i("label",{attrs:{for:"gender_one"}},[e._v("男")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.gender,expression:"user_info_value.gender"}],staticClass:"table-choice",attrs:{type:"radio",id:"gender_two",value:"0"},domProps:{checked:e._q(e.user_info_value.gender,"0")},on:{change:function(t){return e.$set(e.user_info_value,"gender","0")}}}),i("label",{attrs:{for:"gender_two"}},[e._v("女")])])])]),i("el-form",{ref:"ValidatePhone",attrs:{rules:e.rules,model:e.user_info_value,"hide-required-asterisk":"true"}},[i("el-form-item",{attrs:{label:"电话：",prop:"phonenum"}},[i("el-input",{staticStyle:{width:"220px","margin-left":"0px"},model:{value:e.user_info_value.phonenum,callback:function(t){e.$set(e.user_info_value,"phonenum",t)},expression:"user_info_value.phonenum"}})],1)],1),i("div",{staticStyle:{"margin-top":"8px"}}),i("label",{staticClass:"userinfo_text",attrs:{for:"user_info_height"}},[e._v("身高：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.height,expression:"user_info_value.height"}],staticClass:"textinput-conctrol",attrs:{id:"user_info_height",type:"number",min:"0"},domProps:{value:e.user_info_value.height},on:{input:function(t){t.target.composing||e.$set(e.user_info_value,"height",t.target.value)}}}),i("label",{staticClass:"topictext",style:"margin-left:10px;"},[e._v("cm")]),i("div",{staticStyle:{"margin-top":"8px"}}),i("label",{staticClass:"userinfo_text",attrs:{for:"user_info_weight"}},[e._v("体重：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.weight,expression:"user_info_value.weight"}],staticClass:"textinput-conctrol",attrs:{id:"user_info_weight",type:"number",min:"0"},domProps:{value:e.user_info_value.weight},on:{input:function(t){t.target.composing||e.$set(e.user_info_value,"weight",t.target.value)}}}),i("label",{staticClass:"userinfo_text",style:"margin-left:10px;"},[e._v("kg")]),i("div",{staticStyle:{"margin-top":"8px"}}),i("label",{staticClass:"userinfo_text",attrs:{for:"user_info_education"}},[e._v("教育水平：")]),i("table",{staticClass:"xtable"},[i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.education,expression:"user_info_value.education"}],staticClass:"table-choice",attrs:{type:"radio",id:"ed_one",value:"博士"},domProps:{checked:e._q(e.user_info_value.education,"博士")},on:{change:function(t){return e.$set(e.user_info_value,"education","博士")}}}),i("label",{attrs:{for:"ed_one"}},[e._v("博士")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.education,expression:"user_info_value.education"}],staticClass:"table-choice",attrs:{type:"radio",id:"ed_two",value:"硕士"},domProps:{checked:e._q(e.user_info_value.education,"硕士")},on:{change:function(t){return e.$set(e.user_info_value,"education","硕士")}}}),i("label",{attrs:{for:"ed_two"}},[e._v("硕士")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.education,expression:"user_info_value.education"}],staticClass:"table-choice",attrs:{type:"radio",id:"ed_three",value:"本科"},domProps:{checked:e._q(e.user_info_value.education,"本科")},on:{change:function(t){return e.$set(e.user_info_value,"education","本科")}}}),i("label",{attrs:{for:"ed_three"}},[e._v("本科")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.education,expression:"user_info_value.education"}],staticClass:"table-choice",attrs:{type:"radio",id:"ed_four",value:"大专"},domProps:{checked:e._q(e.user_info_value.education,"大专")},on:{change:function(t){return e.$set(e.user_info_value,"education","大专")}}}),i("label",{attrs:{for:"ed_four"}},[e._v("大专")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.education,expression:"user_info_value.education"}],staticClass:"table-choice",attrs:{type:"radio",id:"ed_5",value:"高中"},domProps:{checked:e._q(e.user_info_value.education,"高中")},on:{change:function(t){return e.$set(e.user_info_value,"education","高中")}}}),i("label",{attrs:{for:"ed_5"}},[e._v("高中")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.education,expression:"user_info_value.education"}],staticClass:"table-choice",attrs:{type:"radio",id:"ed_6",value:"初中"},domProps:{checked:e._q(e.user_info_value.education,"初中")},on:{change:function(t){return e.$set(e.user_info_value,"education","初中")}}}),i("label",{attrs:{for:"ed_6"}},[e._v("初中")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.education,expression:"user_info_value.education"}],staticClass:"table-choice",attrs:{type:"radio",id:"ed_7",value:"小学"},domProps:{checked:e._q(e.user_info_value.education,"小学")},on:{change:function(t){return e.$set(e.user_info_value,"education","小学")}}}),i("label",{attrs:{for:"ed_7"}},[e._v("小学")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.education,expression:"user_info_value.education"}],staticClass:"table-choice",attrs:{type:"radio",id:"ed_8",value:"其他"},domProps:{checked:e._q(e.user_info_value.education,"其他")},on:{change:function(t){return e.$set(e.user_info_value,"education","其他")}}}),i("label",{attrs:{for:"ed_8"}},[e._v("其他")])])])]),i("label",{staticClass:"userinfo_text",attrs:{for:"user_info_education"}},[e._v("婚姻状况：")]),i("table",{staticClass:"xtable"},[i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.marital,expression:"user_info_value.marital"}],staticClass:"table-choice",attrs:{type:"radio",id:"ma_one",value:"未婚"},domProps:{checked:e._q(e.user_info_value.marital,"未婚")},on:{change:function(t){return e.$set(e.user_info_value,"marital","未婚")}}}),i("label",{attrs:{for:"ma_one"}},[e._v("未婚")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.marital,expression:"user_info_value.marital"}],staticClass:"table-choice",attrs:{type:"radio",id:"ma_two",value:"已婚"},domProps:{checked:e._q(e.user_info_value.marital,"已婚")},on:{change:function(t){return e.$set(e.user_info_value,"marital","已婚")}}}),i("label",{attrs:{for:"ma_two"}},[e._v("已婚")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.marital,expression:"user_info_value.marital"}],staticClass:"table-choice",attrs:{type:"radio",id:"ma_three",value:"离婚"},domProps:{checked:e._q(e.user_info_value.marital,"离婚")},on:{change:function(t){return e.$set(e.user_info_value,"marital","离婚")}}}),i("label",{attrs:{for:"ma_three"}},[e._v("离婚")])])]),i("tr",[i("td",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.user_info_value.marital,expression:"user_info_value.marital"}],staticClass:"table-choice",attrs:{type:"radio",id:"ma_four",value:"丧偶"},domProps:{checked:e._q(e.user_info_value.marital,"丧偶")},on:{change:function(t){return e.$set(e.user_info_value,"marital","丧偶")}}}),i("label",{attrs:{for:"ma_four"}},[e._v("丧偶")])])])]),i("label",{staticClass:"userinfo_text",attrs:{for:"user_info_location"}},[e._v("您近半年的居住地为：")]),i("RegionGroupCore",{attrs:{town:!1,area:!1},on:{change:e.regionChange}}),i("div",{staticStyle:{"margin-top":"8px"}})],1):e._e()},o=[],r=(i("5319"),i("7558")),l={components:{RegionGroupCore:r["RegionGroupCore"]},name:"Option",props:["number","text","rangehead","rangetail","picture","type","unit","question_id","showrelations"],data(){return{upload_options:{target:"http://101.43.34.212/smart/fileImage/pc/v1/uploadImage?bizType=5&bizNo=q0_s0_a0",autoStart:!1,testChunks:!1},upload_attrs:{accept:"image/*"},option_value:{value:""},user_info_value:{name:"",age:"",gender:"",phonenum:"",height:"",weight:"",education:"",location:""},rules:{phonenum:[{required:!0,message:"请输入联系方式",trigger:"blur"},{min:11,max:11,message:"请输入11位手机号码",trigger:"blur"},{pattern:/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/,message:"请输入正确的手机号码"}]}}},watch:{option_value:{handler(){this.$emit("changeOptionValue",{number:this.number,value:this.$data.option_value,type:this.type})},deep:!0,immediate:!0},user_info_value:{handler(){this.$emit("changeUserInfoValue",{number:this.number,value:this.$data.user_info_value,type:this.type})},deep:!0,immediate:!0}},methods:{onFileSuccess(e,t,i,s){let a=JSON.parse(i);console.log(e),console.log(t),console.log(i),console.log(s),a.data?this.option_value.value=a.data.filePath:this.$message({message:a.message,type:"error"})},regionChange(e){console.log(e),this.user_info_value.location=e.province.value,void 0!=e.city&&(this.user_info_value.location+=e.city.value),void 0!=e.area&&(this.user_info_value.location+=e.area.value),void 0!=e.town&&(this.user_info_value.location+=e.town.value)},radioChange:function(){this.$emit("changeOptionValue",{number:this.number,value:this.$data.option_value,type:this.type}),this.$emit("changeVisible",this.question_id,this.option_value.value)},chkChange:function(){this.$emit("chkOptionValue",{number:this.number,value:this.$data.option_value,type:this.type})},checkboxChange:function(){this.$emit("changeOptionValue",{number:this.number,value:this.$data.option_value,type:this.type}),this.$emit("changeVisible",this.question_id,"q"+this.question_id+"_a"+this.number,1==this.option_value.value?"show":"hide")},animate(){var e=/^1\d{10}$/;let t=this.user_info_value.phonenum;e.test(t)?alert("成功"):alert("抱歉手机号不合法")}},mounted(){},directives:{numberOnly:{bind:function(e){e.handler=function(){e.value=e.value.replace(/\D+/,"")},e.addEventListener("input",e.handler)},unbind:function(e){e.removeEventListener("input",e.handler)}}}},u=l,c=(i("52a1"),i("fb96"),i("2877")),_=Object(c["a"])(u,n,o,!1,null,"4402dae3",null),d=_.exports,h={name:"Question",components:{Option:d},props:["isrequired","number","showindex","text","type","initshow","picture","options","showrelations"],data(){return{display_style:"",question_disabled:!0,question_value:""}},mounted(){this.init()},methods:{init(){1==this.initshow?(this.display_style="",this.setDisabled(!1)):(this.display_style="display:none",this.setDisabled(!0))},setDisabled(e){this.question_disabled=e},changeQuestionVisible(e,t){"show"==t?(this.setDisabled(!1),this.display_style=""):"hide"==t&&(this.setDisabled(!0),this.display_style="display:none")},changeVisible(e,t,i){this.$emit("changeVisible",e,t,i)},changeOptionValue(e){this.$emit("changeQuestionValue",e,this.number)},chkOptionValue(e){this.$emit("chkQuestionValue",e,this.number)},changeUserInfoValue(e){this.$emit("changeUserValue",e,this.number)}},computed:{activeOptions:function(){return this.options.filter(e=>e.question_id==this.number)},activeShowRelations:function(){return this.showrelations.filter(e=>e.question_id==this.number)}}},p=h,m=(i("1fd0"),Object(c["a"])(p,s,a,!1,null,"c53e1426",null));t["a"]=m.exports},"1fd0":function(e,t,i){"use strict";var s=i("870c"),a=i.n(s);a.a},"296e":function(e,t,i){},"2ff8":function(e,t,i){},"44ec":function(e,t,i){},"4c85":function(e,t,i){"use strict";i.d(t,"a",(function(){return _})),i.d(t,"c",(function(){return d})),i.d(t,"d",(function(){return h})),i.d(t,"b",(function(){return p})),i.d(t,"e",(function(){return m})),i.d(t,"f",(function(){return v}));var s=i("bc3a"),a=i.n(s),n=(i("9e1f"),i("450d"),i("6ed5"),i("0fb7"),i("f529")),o=i.n(n);function r(e){o()({message:e,type:"error",duration:5e3})}a.a.defaults.baseURL="http://101.43.34.212",a.a.defaults.timeout=1e4,a.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=UTF-8";const l=a.a.create({baseURL:a.a.defaults.baseURL,timeout:1e4});l.interceptors.request.use(e=>e,e=>(console.log("request-error:"+e),Promise.error(e))),l.interceptors.response.use(e=>(console.debug("response"),console.debug(e),200===e.status?Promise.resolve(e):Promise.reject(e)),e=>{console.log("err"+e);let{message:t}=e;return t.includes("Network Error")?t="后端接口连接异常":t.includes("timeout")?t="系统接口请求超时":t.includes("Request failed with status code")&&(t="系统接口"+t.substr(t.length-3)+"异常"),null!=t&&r(t),Promise.reject(e)});var u=l,c={surveyInitAll:"/smart/survey/v1/getInitAll",surveyQuestionnaires:"/smart/survey/v1/getQuestionnaire",surveyQuestions:"/smart/survey/v1/getQuestions",surveyOptions:"/smart/survey/v1/getOptions",surveyShowRelations:"/smart/survey/v1/getShowRelations",postAnswers:"/smart/survey/v1/postAnswers"};function _(e){const t={id:e};return u({url:c.surveyInitAll,method:"post",params:t})}function d(e){const t={id:e};return u({url:c.surveyQuestionnaires,method:"post",params:t})}function h(e){const t={questionnaire_id:e};return u({url:c.surveyQuestions,method:"post",params:t})}function p(e){const t={questionnaire_id:e};return u({url:c.surveyOptions,method:"post",params:t})}function m(e){const t={questionnaire_id:e};return u({url:c.surveyShowRelations,method:"post",params:t})}function v(e){return u({url:c.postAnswers,method:"post",headers:{"Content-Type":"application/json;charset=UTF-8"},data:e})}},"52a1":function(e,t,i){"use strict";var s=i("f946"),a=i.n(s);a.a},"54e5":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_0__),_components_Question__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("1f97"),_api_api_survey__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("4c85");__webpack_exports__["a"]={data(){return{kexinvalue:0,dialogChk1Visible:!1,dialogChk21Visible:!1,dialogChk22Visible:!1,showButton:!1,imgvisual_1:!0,imgvisual_2:!1,imgvisual_3:!1,imgvisual_4:!1,imgvisual_5:!1,imgvisual_6:!1,dialogVisible:!1,dialogErrorVisible:!1,dialogUnselectVisible:!1,dialogDeviceVisible:!1,dialogReversionVisible:!1,questionnaires:[],questions:[],masterquestions:[],options:[],showrelations:[],mustselectquestions:[],unselectquestion:"",analyzedatas:[],statistics:[],freq_list:[],mg_list:[],answers:[],answerjson:{},user:[],submit_time:0,wait_time:0}},components:{Question:_components_Question__WEBPACK_IMPORTED_MODULE_1__["a"]},created(){this.queryInitAll(1)},methods:{submitForm(){var _this=this;_this.answerjson={};let count=0;for(_this.answerjson[count]={questionnaire_id:_this.questionnaires[0].id},count=1,_this.answerjson[count]=_this.user[0],count=3;count<_this.answers.length+3;count++)_this.answerjson[count]=_this.answers[count-3];var answerList=[];let a_index=0;for(;a_index<_this.answers.length;a_index++){let e=_this.answers[a_index].option_type,t=_this.answers[a_index].value.value,i=_this.answers[a_index].hide,s={};s.questionnaire_id=_this.answers[a_index].questionnaire_id,s.question_id=_this.answers[a_index].question_id,s.option_id=_this.answers[a_index].option_id,s.type=_this.answers[a_index].option_type,"bool"==e&&(t=="q"+s.question_id+"_a1"||t=="q"+s.question_id+"_a2")&&s.answer_bool,"picture_select"!=e&&"text_select"!=e||t=="q"+s.question_id+"_a"+s.option_id&&(s.answer_text="select_"+s.option_id),"picture_multi_select"!=e&&"text_multi_select"!=e||1==t&&(s.answer_text="select"),"text_edit"!=e&&"textarea_edit"!=e||(s.answer_text=t),"range_value"==e&&(s.answer_rangevalue=t),"picture_upload"==e&&""!=t&&(s.answer_text=t),null==s.answer_bool&&null==s.answer_text&&null==s.answer_rangevalue||i||answerList.push(s)}if(_this.unselectquestion="",_this.mustselectquestions.length>0&&_this.mustselectquestions.forEach(e=>{_this.unselectquestion=_this.unselectquestion.replaceAll("["+e.show+"]",""),_this.unselectquestion=_this.unselectquestion+"["+e.show+"]",answerList.forEach(t=>{t.question_id==e.idx&&(_this.unselectquestion=_this.unselectquestion.replaceAll("["+e.show+"]",""))})}),""!=_this.unselectquestion)return void(_this.dialogUnselectVisible=!0);if(""==_this.answerjson[1].value.name||""==_this.answerjson[1].value.phonenum||""==_this.answerjson[1].value.weight||""==_this.answerjson[1].value.height)return void(_this.dialogErrorVisible=!0);if(0!=_this.submit_time)return void(_this.dialogDeviceVisible=!0);var jsoncache={};jsoncache.name=_this.user[0].value.name,"20"==_this.user[0].value.age?jsoncache.age="18-29":"30"==_this.user[0].value.age?jsoncache.age="30-39":"40"==_this.user[0].value.age?jsoncache.age="40-49":"50"==_this.user[0].value.age?jsoncache.age="50-59":"60"==_this.user[0].value.age&&(jsoncache.age="60-70"),1==_this.user[0].value.gender?jsoncache.gender="男":jsoncache.gender="女",jsoncache.height=_this.user[0].value.height,jsoncache.weight=_this.user[0].value.weight,jsoncache.education=_this.user[0].value.education,jsoncache.location=_this.user[0].value.location,jsoncache.marital=_this.user[0].value.marital,jsoncache.phonenum=_this.user[0].value.phonenum;for(let e in _this.masterquestions){var master_question_content="";for(let t in answerList)if(answerList[t].question_id==_this.masterquestions[e].number){var master_option_list=_this.options.filter(t=>t.question_id==_this.masterquestions[e].number).filter(e=>e.number==answerList[t].option_id);if(master_option_list.length>0&&("bool"==answerList[t].type?master_question_content+=1==answerList[t].answer_bool?"是":"否":"picture_multi_select"==answerList[t].type||"text_multi_select"==answerList[t].type||"picture_select"==answerList[t].type||"text_select"==answerList[t].type?master_question_content+=master_option_list[0].text:"text_edit"==answerList[t].type||"textarea_edit"==answerList[t].type?master_question_content+=answerList[t].answer_text:"range_value"==answerList[t].type&&(master_question_content+=answerList[t].answer_rangevalue)),null!=_this.masterquestions[e].statistic_relate){var relate_slave_question_id_list=_this.masterquestions[e].statistic_relate.split(",");for(let e in relate_slave_question_id_list)if(null!=relate_slave_question_id_list[e]&&""==!relate_slave_question_id_list[e]){var slave_question=_this.questions.filter(t=>t.number==relate_slave_question_id_list[e])[0];for(let t in answerList)if(answerList[t].question_id==slave_question.number){master_question_content+=slave_question.text;var slave_option_list=_this.options.filter(t=>t.question_id==relate_slave_question_id_list[e]).filter(e=>e.number==answerList[t].option_id);slave_option_list.length>0&&("bool"==answerList[t].type&&(master_question_content+=" - ",master_question_content+=1==answerList[t].answer_bool?"是":"否"),"picture_multi_select"!=answerList[t].type&&"text_multi_select"!=answerList[t].type||(master_question_content+=" - ",master_question_content+=slave_option_list.text),"picture_select"!=answerList[t].type&&"text_select"!=answerList[t].type||(master_question_content+=" - ",master_question_content+=slave_option_list.text),"text_edit"!=answerList[t].type&&"textarea_edit"!=answerList[t].type||(master_question_content+=" - ",master_question_content+=answerList[t].answer_text),"range_value"==answerList[t].type&&(master_question_content+=" - ",master_question_content+=answerList[t].answer_rangevalue))}}}}jsoncache["question_answer_"+_this.masterquestions[e].number]=master_question_content}for(let statistics in _this.statistics){var formula=_this.statistics[statistics].formula+" ";if(null!=formula&&""!=formula){let height="{S1P1}",weight="{S1P2}";formula=formula.replaceAll(height,jsoncache.height),formula=formula.replaceAll(weight,jsoncache.weight);for(let e in answerList)if("picture_multi_select"==answerList[e].type||"text_multi_select"==answerList[e].type){let t="{S"+answerList[e].questionnaire_id+"Q"+answerList[e].question_id+"O"+answerList[e].option_id+"}";var filterAnalyzeDataList=_this.analyzedatas.filter(t=>t.question_id==answerList[e].question_id).filter(t=>t.option_id==answerList[e].option_id).filter(e=>e.statistic_id==_this.statistics[statistics].number);formula=filterAnalyzeDataList.length>0?formula.replaceAll(t,filterAnalyzeDataList[0].data):formula.replaceAll(t,"0")}else if("picture_select"==answerList[e].type||"text_select"==answerList[e].type){let t="{S"+answerList[e].questionnaire_id+"Q"+answerList[e].question_id+"}",i=!1,s=!1;for(let n=0;n<_this.freq_list.length;n++)_this.freq_list[n]==answerList[e].question_id&&(i=!0);for(let n=0;n<_this.mg_list.length;n++)_this.mg_list[n]==answerList[e].question_id&&(s=!0);let a="0";if(i){let i=_this.analyzedatas.filter(e=>4==e.question_id).filter(t=>t.option_id==answerList[e].option_id);a=i[0].data,formula=formula.replaceAll(t,a)}else if(s){let i=_this.analyzedatas.filter(e=>5==e.question_id).filter(t=>t.option_id==answerList[e].option_id);a=i[0].data,formula=formula.replaceAll(t,a)}else{let i=_this.analyzedatas.filter(t=>t.question_id==answerList[e].question_id).filter(t=>t.option_id==answerList[e].option_id).filter(e=>e.statistic_id==_this.statistics[statistics].number);i.length>0&&(a=i[0].data,formula=formula.replaceAll(t,a))}}else if("range_value"==answerList[e].type){let t="{S"+answerList[e].questionnaire_id+"Q"+answerList[e].question_id+"}";formula=null!=answerList[e].answer_rangevalue?formula.replaceAll(t,answerList[e].answer_rangevalue):formula.replaceAll(t,"0")}for(let e in _this.options){if("picture_multi_select"==_this.options[e].type||"text_multi_select"==_this.options[e].type){let t="{S"+_this.options[e].questionnaire_id+"Q"+_this.options[e].question_id+"O"+_this.options[e].number+"}";formula=formula.replaceAll(t,"0")}if("picture_select"==_this.options[e].type||"text_select"==_this.options[e].type){let t="{S"+_this.options[e].questionnaire_id+"Q"+_this.options[e].question_id+"}";formula=formula.replaceAll(t,"0")}if("range_value"==_this.options[e].type){let t="{S"+_this.options[e].questionnaire_id+"Q"+_this.options[e].question_id+"}";formula=formula.replaceAll(t,"0")}}let resultvalue=eval(formula).toFixed(2);jsoncache["statistics_answer_"+_this.statistics[statistics].number]=resultvalue}if(_this.statistics[statistics].statistic_columnname.includes("BMI")){let e="statistics_answer_"+_this.statistics[statistics].number;jsoncache[e]>=18.5&&jsoncache[e]<24?jsoncache[e]=jsoncache[e]+"kg/m^2,正常体重":jsoncache[e]>=24&&jsoncache[e]<28?jsoncache[e]=jsoncache[e]+"kg/m^2,超重体重":jsoncache[e]>=28?jsoncache[e]=jsoncache[e]+"kg/m^2,肥胖体重":jsoncache[e]<18.5&&(jsoncache[e]=jsoncache[e]+"kg/m^2,消瘦体重")}}if(0==jsoncache.statistics_answer_53){let omega_formula=jsoncache.statistics_answer_2+"+"+jsoncache.statistics_answer_3+"+"+jsoncache.statistics_answer_4+"+"+jsoncache.statistics_answer_184,epa_formula=jsoncache.statistics_answer_2,dha_formula=jsoncache.statistics_answer_3;0!=jsoncache.statistics_answer_55||0!=jsoncache.statistics_answer_56?(omega_formula=omega_formula+"+"+jsoncache.statistics_answer_54,epa_formula=epa_formula+"+"+jsoncache.statistics_answer_55,dha_formula=dha_formula+"+"+jsoncache.statistics_answer_56):omega_formula=omega_formula+"+"+jsoncache.statistics_answer_54;let resultvalue=eval(omega_formula).toFixed(2),resultvalue1=eval(epa_formula).toFixed(2),resultvalue2=eval(dha_formula).toFixed(2);jsoncache.statistics_answer_53=resultvalue,jsoncache.statistics_answer_2=resultvalue1,jsoncache.statistics_answer_3=resultvalue2}let omega=jsoncache.statistics_answer_53,omegaweek=omega/24;_this.imgvisual_1=!1,_this.imgvisual_2=!1,_this.imgvisual_3=!1,_this.imgvisual_4=!1,_this.imgvisual_5=!1,_this.imgvisual_6=!1,omegaweek<.5&&(_this.imgvisual_1=!0),omegaweek>=.5&&omegaweek<1.7&&(_this.imgvisual_2=!0),omegaweek>=1.7&&omegaweek<3.5&&(_this.imgvisual_3=!0),omegaweek>=3.5&&omegaweek<14&&(_this.imgvisual_4=!0),omegaweek>=14&&omegaweek<35&&(_this.imgvisual_5=!0),omegaweek>=35&&(_this.imgvisual_6=!0),_this.dialogReversionVisible=!0,jsoncache["statistics_answer_186"]=_this.kexinvalue+"",_this.answerjson[2]=jsoncache;const formData=JSON.stringify(_this.answerjson);Object(_api_api_survey__WEBPACK_IMPORTED_MODULE_2__["f"])(formData).then(e=>{_this.submit_time=3,console.log(e)})},queryInitAll(e){Object(_api_api_survey__WEBPACK_IMPORTED_MODULE_2__["a"])(e).then(e=>{const t=e.data.data;this.questionnaires=t.questionnaire,this.questions=t.question.sort(this.compare("show_index"));for(let w in this.questions)w.show_index>22&&(w.show_index=w.show_index+1);for(let w in this.questions)w.show_index>72&&(w.show_index=w.show_index+1);let i={id:195,number:192,show_index:23,text:"对于山海经里虚构的璃吻，您在过去六个月里每次的食用克数:",type:"check_qus",isrequired:1,initshow:1,questionnaire_id:1},s={id:196,number:193,show_index:73,text:"桂鱼（别称鳜鱼、桂花鱼）的食用频率:",type:"check_qus",isrequired:1,initshow:1,questionnaire_id:1};this.questions.push(i),this.questions.push(s),this.questions=this.questions.sort(this.compare("show_index")),this.options=t.option.sort(this.compare("number"));let a={id:2e3,number:1,text:"0两",type:"chk_select",question_id:192,questionnaire_id:1},n={id:2001,number:2,text:"0.6～1.2两",type:"chk_select",question_id:192,questionnaire_id:1},o={id:2002,number:3,text:"1.2～2两",type:"chk_select",question_id:192,questionnaire_id:1},r={id:2003,number:4,text:"2～4两",type:"chk_select",question_id:192,questionnaire_id:1},l={id:2004,number:5,text:"4～6两",type:"chk_select",question_id:192,questionnaire_id:1},u={id:2005,number:6,text:"6～8两",type:"chk_select",question_id:192,questionnaire_id:1},c={id:2006,number:7,text:"8两～1斤",type:"chk_select",question_id:192,questionnaire_id:1},_={id:2007,number:8,text:"1斤～1斤2两",type:"chk_select",question_id:192,questionnaire_id:1},d={id:2008,number:1,text:"一天2～3次",type:"chk_select",question_id:193,questionnaire_id:1},h={id:2009,number:2,text:"一个星期6～7次",type:"chk_select",question_id:193,questionnaire_id:1},p={id:2010,number:3,text:"一个星期4～5次",type:"chk_select",question_id:193,questionnaire_id:1},m={id:2011,number:4,text:"一个星期2～3次",type:"chk_select",question_id:193,questionnaire_id:1},v={id:2012,number:5,text:"一个月3～4次",type:"chk_select",question_id:193,questionnaire_id:1},f={id:2013,number:6,text:"一个月1～2次",type:"chk_select",question_id:193,questionnaire_id:1},g={id:2014,number:7,text:"半年4～5次",type:"chk_select",question_id:193,questionnaire_id:1},b={id:2015,number:8,text:"半年2～3次",type:"chk_select",question_id:193,questionnaire_id:1},q={id:2016,number:9,text:"半年0～1次",type:"chk_select",question_id:193,questionnaire_id:1};this.options.push(a),this.options.push(n),this.options.push(o),this.options.push(r),this.options.push(l),this.options.push(u),this.options.push(c),this.options.push(_),this.options.push(d),this.options.push(h),this.options.push(p),this.options.push(m),this.options.push(v),this.options.push(f),this.options.push(g),this.options.push(b),this.options.push(q),this.showrelations=t.showrelation,this.statistics=t.statistics,this.analyzedatas=t.analyzedata,this.masterquestions=this.questions.filter(e=>null!=e.statistic_order),this.freq_list=t.freq,this.mg_list=t.mg,this.showButton=!0})},queryQuestionnaires(e){Object(_api_api_survey__WEBPACK_IMPORTED_MODULE_2__["c"])(e).then(e=>{const t=e.data.data;this.questionnaires=t})},queryQuestions(e){Object(_api_api_survey__WEBPACK_IMPORTED_MODULE_2__["d"])(e).then(e=>{const t=e.data.data;this.questions=t.sort(this.compare("show_index"))})},compare(e){return function(t,i){var s=t[e],a=i[e];return s-a}},queryOptions(e){Object(_api_api_survey__WEBPACK_IMPORTED_MODULE_2__["b"])(e).then(e=>{const t=e.data.data;this.options=t.sort(this.compare("number"))})},queryShowRelations(e){Object(_api_api_survey__WEBPACK_IMPORTED_MODULE_2__["e"])(e).then(e=>{const t=e.data.data;this.showrelations=t})},changeVisible(e,t,i){var s=this;let a="",n=[],o=!1;for(let r of s.showrelations){let i=t.split("_a")[1],s=[];s=r.optionlist.split(","),e==r.question_id&&1==s.some(e=>e==i+"")&&(n=r.relation_questionlist.split(","),a=r.state,s.some(e=>e==i+"").length>1&&(o=!0))}for(let r of s.$refs.qus)if(1==n.some(e=>e==r.number+""))if("hide"==a||o)r.changeQuestionVisible(r.number,a),"hide"==a||"hide"==i?s.answers.forEach(e=>{e.question_id==r.number&&(e.hide=!0)}):s.answers.forEach(e=>{e.question_id==r.number&&(e.hide=!1)});else if("show"==i||"hide"==i){if(r.changeQuestionVisible(r.number,i),"show"==i){let e=-1;s.mustselectquestions.forEach((t,i)=>{t.show==r.showindex&&t.idx==r.number&&(e=i)}),-1==e&&s.mustselectquestions.push({show:r.showindex,idx:r.number})}else if("hide"==i){let e=-1;s.mustselectquestions.forEach((t,i)=>{t.show==r.showindex&&t.idx==r.number&&(e=i)}),s.mustselectquestions.splice(e,1)}"hide"==i?s.answers.forEach(e=>{e.question_id==r.number&&(e.hide=!0)}):s.answers.forEach(e=>{e.question_id==r.number&&(e.hide=!1)})}else r.changeQuestionVisible(r.number,a),s.answers.forEach(e=>{e.question_id==r.number&&(e.hide=!0)})},chkQuestionValue(e,t){if(192==t)1==e.number?this.kexinvalue=this.kexinvalue+0:(this.kexinvalue=this.kexinvalue+2,this.dialogChk1Visible=!0);else if(193==t){var i=this.answers.filter(e=>32==e.question_id&&""!=e.value.value);if(0==i.length&&9!=e.number)this.kexinvalue=this.kexinvalue+1,this.dialogChk21Visible=!0;else if(0!=i.length){let t=i[0].option_id+e.number-10;t<=1&&t>=-1?this.kexinvalue=this.kexinvalue+0:(this.kexinvalue=this.kexinvalue+1,this.dialogChk22Visible=!0)}}},changeQuestionValue(e,t){if(143==t&&(1==e.number&&1==e.value.value?(document.getElementById("q143_check2").checked=!1,document.getElementById("q143_check2").value=!1,document.getElementById("q143_check3").checked=!1,document.getElementById("q143_check3").value=!1,document.getElementById("q143_check4").checked=!1,document.getElementById("q143_check4").value=!1,document.getElementById("q143_check5").checked=!1,document.getElementById("q143_check5").value=!1,document.getElementById("q143_check6").checked=!1,document.getElementById("q143_check6").value=!1,document.getElementById("q143_check7").checked=!1,document.getElementById("q143_check7").value=!1,document.getElementById("q143_check8").checked=!1,document.getElementById("q143_check8").value=!1,document.getElementById("q143_check9").checked=!1,document.getElementById("q143_check9").value=!1,document.getElementById("q143_check10").checked=!1,document.getElementById("q143_check10").value=!1,document.getElementById("q143_check11").checked=!1,document.getElementById("q143_check11").value=!1):1!=e.number&&1==e.value.value&&(document.getElementById("q143_check1").checked=!1,document.getElementById("q143_check1").value=!1)),"bool"==e.type||"picture_select"==e.type||"text_select"==e.type)return this.answers=this.answers.filter(e=>e.question_id!=t),void this.answers.push({questionnaire_id:this.questionnaires[0].id,question_id:t,option_id:e.number,option_type:e.type,value:e.value,hide:!1});void 0!=t&&null!=t&&void 0!=e&&null!=e&&(this.answers=this.answers.filter(i=>!(i.question_id==t&&i.option_id==e.number)),this.answers.push({questionnaire_id:this.questionnaires[0].id,question_id:t,option_id:e.number,option_type:e.type,value:e.value,hide:!1}))},changeUserValue(e,t){if(0==this.user.length)this.user.push({questionnaire_id:this.questionnaires[0].id,question_id:t,option_id:e.number,value:e.value});else{let i=this.user[0];null!=i&&(i.questionnaire_id=this.questionnaires[0].id,i.question_id=t,i.option_id=e.number,i.value=e.value)}},changeSubmitTime(){0!=this.submit_time&&this.submit_time--}},mounted(){this.timer=setInterval(this.changeSubmitTime,1e3)}}},"56d7":function(e,t,i){"use strict";i.r(t);i("0fae");var s=i("9e2f"),a=i.n(s),n=i("8bbf"),o=i.n(n),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},l=[],u={components:{}},c=u,_=(i("034f"),i("2877")),d=Object(_["a"])(c,r,l,!1,null,null,null),h=d.exports,p=i("6389"),m=i.n(p),v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"mainpage",attrs:{id:"pageDiv"}},[i("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("span",[e._v("问卷提交成功")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e._v("·1 "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.dialogErrorVisible},on:{"update:visible":function(t){e.dialogErrorVisible=t}}},[i("span",[e._v("请检查基础信息中姓名,电话号码,身高,体重是否填写")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogErrorVisible=!1}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.dialogUnselectVisible},on:{"update:visible":function(t){e.dialogUnselectVisible=t}}},[i("span",[e._v("请检查题号："+e._s(e.unselectquestion)+"选择后再次提交")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogUnselectVisible=!1}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.dialogDeviceVisible},on:{"update:visible":function(t){e.dialogDeviceVisible=t}}},[i("span",[e._v("您已成功提交问卷，可于"+e._s(e.submit_time)+"秒后再次提交")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogDeviceVisible=!1}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.dialogChk1Visible},on:{"update:visible":function(t){e.dialogChk1Visible=t}}},[i("span",[e._v("请认真答题")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogChk1Visible=!1}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.dialogChk21Visible},on:{"update:visible":function(t){e.dialogChk21Visible=t}}},[i("span",[e._v("前后不一致，如果您吃过桂鱼，请在食用鱼类选项中勾选桂鱼；如果没吃过桂鱼则请在73题选择”半年0~1次“")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogChk21Visible=!1}}},[e._v("确 定")])],1)]),i("el-dialog",{attrs:{title:"提示",visible:e.dialogChk22Visible},on:{"update:visible":function(t){e.dialogChk22Visible=t}}},[i("span",[e._v("前后不一致，请您重新核对所选鱼类的食用频率和食用克数。第30题和第73题为重复测量桂鱼食用频率，请确保填写准确并确保前后一致")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogChk22Visible=!1}}},[e._v("确 定")])],1)]),i("el-dialog",{staticClass:"dialogClass",attrs:{visible:e.dialogReversionVisible,top:"5vh"},on:{"update:visible":function(t){e.dialogReversionVisible=t}}},[e.imgvisual_1?i("img",{staticClass:"logo-img",attrs:{src:"https://pic1.imgdb.cn/item/64701324f024cca173b124f0.png"}}):e._e(),e.imgvisual_2?i("img",{staticClass:"logo-img",attrs:{src:"https://pic1.imgdb.cn/item/64701324f024cca173b12563.png"}}):e._e(),e.imgvisual_3?i("img",{staticClass:"logo-img",attrs:{src:"https://pic1.imgdb.cn/item/6470132bf024cca173b12bb6.png"}}):e._e(),e.imgvisual_4?i("img",{staticClass:"logo-img",attrs:{src:"https://pic1.imgdb.cn/item/64701324f024cca173b12528.png"}}):e._e(),e.imgvisual_5?i("img",{staticClass:"logo-img",attrs:{src:"https://pic1.imgdb.cn/item/64701325f024cca173b12589.png"}}):e._e(),e.imgvisual_6?i("img",{staticClass:"logo-img",attrs:{src:"https://pic1.imgdb.cn/item/64701324f024cca173b12504.png"}}):e._e()]),i("div",{attrs:{id:"headsplitdiv"}}),i("div",{staticStyle:{position:"absolute",left:"0",right:"0","z-index":"10",display:"none","font-size":"14px",color:"#ffffff","line-height":"24px",padding:"8px","background-color":"#f95b5b"},attrs:{id:"divTip"}}),i("div",{staticStyle:{height:"40px",display:"none"},attrs:{id:"tipHeight"}}),i("form",{attrs:{id:"form1",method:"post",action:"#"},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._l(e.questionnaires,(function(t){return i("div",{key:t.id,attrs:{id:"toptitle"}},[i("h1",{staticClass:"htitle",attrs:{id:"htitle"}},[e._v(e._s(t.title))])])})),e._l(e.questionnaires,(function(t){return i("div",{key:t.id,staticClass:"divContent",attrs:{id:"divContent"}},[i("div",{staticClass:"formfield",attrs:{id:"divDesc"}},[i("p",{staticClass:"formfield",domProps:{innerHTML:e._s(t.tips)}})])])})),i("div",{attrs:{id:"divQuestion"}},[i("div",{staticClass:"field ui-field-contain",attrs:{topic:"1",id:"div1",req:"1",gapfill:"1","data-role":"fieldcontain",type:"9"}},[i("div",{staticClass:"field-label gapfilltitle"},[i("div",e._l(e.questions,(function(t){return i("Question",{key:t.showindex,ref:"qus",refInFor:!0,attrs:{isrequired:t.isrequired,showindex:t.show_index,number:t.number,text:t.text,type:t.type,initshow:t.initshow,picture:t.picture,options:e.options,showrelations:e.showrelations},on:{changeVisible:e.changeVisible,changeQuestionValue:e.changeQuestionValue,chkQuestionValue:e.chkQuestionValue,changeUserValue:e.changeUserValue}})})),1),i("div",{staticClass:"col-12 text-center tm-submit-container"},[i("button",{directives:[{name:"show",rawName:"v-show",value:e.showButton,expression:"showButton"}],staticClass:"btn btn-primary tm-btn-submit",attrs:{type:"submit",href:"#"}},[e._v(" 提交 ")])])])])])],2)],1)},f=[],g=i("54e5"),b=g["a"],q=(i("1f57"),i("ecf7"),Object(_["a"])(b,v,f,!1,null,"370bcdb9",null)),w=q.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page"},[i("div",{staticClass:"body demo1"},[e._m(0),i("div",{staticClass:"footer"},[i("button",{staticClass:"btn",on:{click:function(t){return e.toTest()}}})])])])},x=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("img",{staticClass:"logo-img",attrs:{src:"https://pic.imgdb.cn/item/65e9d7739f345e8d03eb1c92.jpg",alt:"logo"}})])}],k=(i("5319"),{name:"app",data(){return{contact:!1}},mounted(){},methods:{toTest(){this.$router.replace("/questionnaire")}}}),C=k,j=(i("face"),Object(_["a"])(C,y,x,!1,null,"c2c3a44e",null)),E=j.exports;const V=[{path:"/questionnaire",name:"Questionnaire",component:w},{path:"/",alias:"/home",name:"Home",component:E},{path:"/about",name:"About",component:()=>i.e("about").then(i.bind(null,"f820"))}],P=new m.a({routes:V});var L=P,O=i("5880"),$=i.n(O),I=i("bc3a"),S=i.n(I);const A=S.a.create({baseURL:"http://192.168.10.7:8080"}),D=e=>e,B=e=>(console.log("req error"),Promise.reject(e)),N=e=>(console.log("res error",e),e.response&&403===e.response.status&&(localStorage.removeItem("token"),location.href="/#/login"),Promise.reject(e));A.interceptors.request.use(D,B),A.interceptors.response.use(null,N);var U=A;i("4328");const Q=async(e,t)=>{try{const i=await U.request({url:`/smart/auth/pc/v1/login?account=${e}&passwd=${t}`,method:"POST",timeout:3e4});return i.data}catch(i){return i.response?console.log("caught response error",i.response):i.request&&console.log("caught request error",i),{code:1,msg:"req/res err"}}};var T=new $.a.Store({state:{username:""},mutations:{setUsername(e,t){e.username=t}},actions:{async auth({commit:e},t){const i=await Q(t.username,t.password);return 1==i.code?Promise.reject(i):(console.log(i.data.authToken),localStorage.setItem("token",i.data.authToken),e("setUsername",t.username),Promise.resolve(i))}}}),M=i("d7f2"),R=i.n(M),z=(i("f5df"),i("5f5b")),W=i("b1e0"),K=i("ef55"),F=i.n(K);i("f9e3"),i("2dd8");o.a.use(a.a),o.a.prototype.$axios=R.a,o.a.use(F.a),o.a.use(z["a"]),o.a.use(W["a"]),o.a.config.productionTip=!1,L.beforeEach((e,t,i)=>{e.query["token"]&&localStorage.setItem("token",e.query["token"]),i()}),new o.a({router:L,store:T,render:e=>e(h)}).$mount("#app")},5880:function(e,t){e.exports=Vuex},6389:function(e,t){e.exports=VueRouter},"870c":function(e,t,i){},"8bbf":function(e,t){e.exports=Vue},"8f11":function(e,t,i){},bfe9:function(e,t,i){},d7f2:function(e,t){e.exports=axios},ecf7:function(e,t,i){"use strict";var s=i("bfe9"),a=i.n(s);a.a},f946:function(e,t,i){},face:function(e,t,i){"use strict";var s=i("2ff8"),a=i.n(s);a.a},fb96:function(e,t,i){"use strict";var s=i("44ec"),a=i.n(s);a.a}});